<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project Manager</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- â”€â”€â”€ Setup Wizard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay" id="wizard-overlay">
  <div class="modal wide">
    <div class="wizard-logo">ğŸ“‹</div>
    <div class="wizard-steps-indicator">
      <div class="step-dot done" id="dot-0"></div>
      <div class="step-dot" id="dot-1"></div>
      <div class="step-dot" id="dot-2"></div>
    </div>

    <!-- Step 0: Welcome -->
    <div class="wizard-step active" id="step-0">
      <h2 style="text-align:center">Welcome to Project Manager</h2>
      <p class="wizard-subtitle">Shared task management for your team. Let's get you set up.</p>
      <div class="form-group">
        <label>Your name</label>
        <input type="text" id="wiz-name" placeholder="e.g. Maurits" autocomplete="off" />
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" id="wiz-next-0">Next â†’</button>
      </div>
    </div>

    <!-- Step 1: Database location -->
    <div class="wizard-step" id="step-1">
      <h2>Choose database location</h2>
      <p style="color:var(--text2);font-size:13px;margin-bottom:18px">
        Point to a shared folder everyone has access to â€” for example your Google Drive folder.
        The app will create <strong>project-manager.db</strong> there.
      </p>
      <div class="form-group">
        <label>Shared folder</label>
        <div style="display:flex;gap:8px">
          <div class="path-display" id="wiz-path-display" style="flex:1">No folder selected</div>
          <button class="btn btn-secondary" id="wiz-pick-folder">Browseâ€¦</button>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-ghost" id="wiz-back-1">â† Back</button>
        <button class="btn btn-primary" id="wiz-next-1">Next â†’</button>
      </div>
    </div>

    <!-- Step 2: Done -->
    <div class="wizard-step" id="step-2">
      <h2 style="text-align:center">You're all set! ğŸ‰</h2>
      <p style="color:var(--text2);font-size:13px;text-align:center;margin-bottom:18px">
        Share the same folder path with your team. Each person runs this app and selects the same shared folder.
      </p>
      <div class="path-display" id="wiz-final-path" style="margin-bottom:20px"></div>
      <div class="modal-actions" style="justify-content:center">
        <button class="btn btn-primary" id="wiz-finish">Start using Project Manager</button>
      </div>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Task Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="task-modal">
  <div class="modal">
    <h2 id="task-modal-title">Add Task</h2>
    <div class="form-group">
      <label>Title *</label>
      <input type="text" id="task-title" placeholder="Task title" />
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea id="task-desc" placeholder="Optional detailsâ€¦"></textarea>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Date</label>
        <input type="date" id="task-date" />
      </div>
      <div class="form-group">
        <label>End date <span style="color:var(--text2);font-weight:400;font-size:11px">(optioneel, voor Gantt)</span></label>
        <input type="date" id="task-end-date" />
      </div>
    </div>
    <div class="form-row" style="align-items:center">
      <div class="form-group" style="flex:0 0 auto">
        <label style="display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:400">
          <input type="checkbox" id="task-all-day" checked style="accent-color:var(--accent);width:15px;height:15px">
          Hele dag
        </label>
      </div>
      <div class="form-group hidden" id="task-time-group" style="flex:1;margin:0">
        <label>Tijd</label>
        <input type="time" id="task-time" />
      </div>
    </div>
    <div class="form-group">
      <label>Assigned to</label>
      <div id="assignee-picker"></div>
    </div>
    <div class="form-group">
      <label>Project</label>
      <select id="task-project">
        <option value="">â€” Geen project â€”</option>
      </select>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Status</label>
        <select id="task-status">
          <option value="pending">Pending</option>
          <option value="in_progress">In Progress</option>
          <option value="done">Done</option>
        </select>
      </div>
      <div class="form-group">
        <label>Priority</label>
        <select id="task-priority">
          <option value="low">Low</option>
          <option value="medium" selected>Medium</option>
          <option value="high">High</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label>Color</label>
      <div class="color-swatches" id="task-color-swatches"></div>
    </div>
    <div class="form-group hidden" id="task-caldav-group">
      <label style="display:flex;align-items:center;gap:8px;cursor:pointer;font-size:13px;color:var(--text)">
        <input type="checkbox" id="task-caldav-push" style="accent-color:var(--accent);flex-shrink:0;width:14px;height:14px">
        ğŸ“… Ook toevoegen aan kalender
      </label>
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" id="task-cancel">Cancel</button>
      <button class="btn btn-danger hidden" id="task-delete">Delete</button>
      <button class="btn btn-primary" id="task-save">Save</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Todo List Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="list-modal">
  <div class="modal">
    <h2 id="list-modal-title">New List</h2>
    <div class="form-group">
      <label>List name *</label>
      <input type="text" id="list-name" placeholder="e.g. Sprint 1" />
    </div>
    <div class="form-group">
      <label>Description</label>
      <input type="text" id="list-desc" placeholder="Optional" />
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" id="list-cancel">Cancel</button>
      <button class="btn btn-danger hidden" id="list-delete">Delete List</button>
      <button class="btn btn-primary" id="list-save">Save</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Team Members Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="team-modal">
  <div class="modal wide">
    <h2>Team beheren</h2>
    <div id="team-list" style="margin-bottom:18px"></div>
    <div style="display:flex;gap:8px;align-items:flex-end">
      <div class="form-group" style="flex:1;margin:0">
        <label>Naam</label>
        <input type="text" id="new-member-name" placeholder="Naam teamlid" />
      </div>
      <div class="form-group" style="flex:1;margin:0">
        <label>E-mail (optioneel)</label>
        <input type="email" id="new-member-email" placeholder="naam@bedrijf.nl" />
      </div>
      <button class="btn btn-primary" id="add-member-btn">Toevoegen</button>
    </div>
    <div class="modal-actions">
      <button class="btn btn-primary" id="team-close">Sluiten</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Settings Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="settings-modal">
  <div class="modal wide">
    <h2>Settings</h2>
    <div class="settings-section">
      <h3>Your profile</h3>
      <div class="form-group">
        <label>Your name</label>
        <input type="text" id="cfg-name" placeholder="Name" />
      </div>
    </div>
    <div class="settings-section">
      <h3>Database mode</h3>
      <div class="radio-group">
        <label class="radio-card selected" id="radio-file">
          <input type="radio" name="mode" value="file" checked />
          <div>
            <div style="font-weight:600">ğŸ“ File (Google Drive)</div>
            <div style="font-size:11px;color:var(--text2)">SQLite on shared folder</div>
          </div>
        </label>
        <label class="radio-card" id="radio-api">
          <input type="radio" name="mode" value="api" />
          <div>
            <div style="font-weight:600">ğŸ“ API (Raspberry Pi)</div>
            <div style="font-size:11px;color:var(--text2)">REST server mode</div>
          </div>
        </label>
      </div>
    </div>
    <div class="settings-section" id="cfg-file-section">
      <h3>Shared folder</h3>
      <div style="display:flex;gap:8px">
        <div class="path-display" id="cfg-path-display" style="flex:1">Not set</div>
        <button class="btn btn-secondary" id="cfg-pick-folder">Browseâ€¦</button>
      </div>
    </div>
    <div class="settings-section hidden" id="cfg-api-section">
      <h3>Raspberry Pi URL</h3>
      <div class="form-group">
        <input type="text" id="cfg-api-url" placeholder="http://raspberrypi.local:5000" />
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn btn-ghost" id="settings-cancel">Cancel</button>
      <button class="btn btn-primary" id="settings-save">Save settings</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Project Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="project-modal">
  <div class="modal">
    <h2 id="project-modal-title">Nieuw project</h2>
    <div class="form-group">
      <label>Naam *</label>
      <input type="text" id="proj-name" placeholder="Projectnaam" />
    </div>
    <div class="form-group">
      <label>Omschrijving</label>
      <input type="text" id="proj-desc" placeholder="Optioneel" />
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Startdatum</label>
        <input type="date" id="proj-start" />
      </div>
      <div class="form-group">
        <label>Einddatum</label>
        <input type="date" id="proj-end" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Status</label>
        <select id="proj-status">
          <option value="active">Actief</option>
          <option value="on_hold">On hold</option>
          <option value="done">Afgerond</option>
        </select>
      </div>
      <div class="form-group">
        <label>Kleur</label>
        <div class="color-swatches" id="proj-color-swatches"></div>
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" id="proj-cancel">Annuleer</button>
      <button class="btn btn-danger hidden" id="proj-delete">Verwijder</button>
      <button class="btn btn-primary" id="proj-save">Opslaan</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Stage Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="modal-overlay hidden" id="stage-modal">
  <div class="modal">
    <h2 id="stage-modal-title">Nieuwe fase</h2>
    <div class="form-group">
      <label>Naam *</label>
      <input type="text" id="stage-name" placeholder="Fasenaam" />
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Startdatum</label>
        <input type="date" id="stage-start" />
      </div>
      <div class="form-group">
        <label>Einddatum</label>
        <input type="date" id="stage-end" />
      </div>
    </div>
    <div class="form-group">
      <label>Kleur</label>
      <div class="color-swatches" id="stage-color-swatches"></div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" id="stage-cancel">Annuleer</button>
      <button class="btn btn-danger hidden" id="stage-delete">Verwijder</button>
      <button class="btn btn-primary" id="stage-save">Opslaan</button>
    </div>
  </div>
</div>

<!-- â”€â”€â”€ Main App Shell â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="app" style="display:none">
  <!-- Sidebar -->
  <nav id="sidebar">
    <div id="sidebar-header">
      <h1>Project Manager</h1>
      <div id="sidebar-user"></div>
    </div>
    <div id="nav">
      <button class="nav-btn active" data-view="monthly">
        <span class="icon">ğŸ“…</span><span>Monthly</span>
      </button>
      <button class="nav-btn" data-view="weekly">
        <span class="icon">ğŸ—“ï¸</span><span>Weekly</span>
      </button>
      <button class="nav-btn" data-view="daily">
        <span class="icon">â˜€ï¸</span><span>Daily</span>
      </button>
      <button class="nav-btn" data-view="mytasks">
        <span class="icon">ğŸ‘¤</span><span>Mijn Taken</span>
      </button>
      <div class="nav-divider"></div>
      <button class="nav-btn" data-view="todo">
        <span class="icon">âœ…</span><span>Todo Lists</span>
      </button>
      <button class="nav-btn" data-view="quotes">
        <span class="icon">ğŸ’¶</span><span>Offertes</span>
      </button>
      <button class="nav-btn" data-view="projects">
        <span class="icon">ğŸ“</span><span>Projecten</span>
      </button>
      <button class="nav-btn" data-view="gantt">
        <span class="icon">ğŸ“Š</span><span>Gantt</span>
      </button>
      <button class="nav-btn" id="team-btn">
        <span class="icon">ğŸ‘¥</span><span>Team</span>
      </button>
    </div>
    <div id="sidebar-footer">
      <div id="sync-status-pill" class="hidden"></div>
      <button class="nav-btn" id="refresh-btn">
        <span class="icon">ğŸ”„</span><span>Refresh</span>
      </button>
      <button class="nav-btn" id="settings-btn">
        <span class="icon">âš™ï¸</span><span>Settings</span>
      </button>
    </div>
  </nav>

  <!-- Main area -->
  <div id="main">
    <div id="toolbar">
      <h2 id="toolbar-title">Monthly View</h2>
      <div id="toolbar-controls"></div>
    </div>
    <div id="content"></div>
  </div>
</div>

<!-- Toast notification -->
<div id="toast"></div>

<script src="app.js"></script>
</body>
</html>
